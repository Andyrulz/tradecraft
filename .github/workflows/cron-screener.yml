name: Momentum Screener Cron

on:
  schedule:
    # Runs at 01:00 and 13:00 UTC every day (1 hour offset to avoid any overlap)
    - cron: "0 1,13 * * *"

jobs:
  run-screener-crons:
    runs-on: ubuntu-latest
    steps:
      - name: GET refresh endpoint (populate universe)
        run: |
          curl -X GET "https://www.tradingsetup.pro/api/momentum-screener/refresh"
      - name: Wait before POST (prevent overlap)
        shell: bash
        run: sleep 60
      - name: POST refresh endpoint (run screener)
        run: |
          curl -X POST "https://www.tradingsetup.pro/api/momentum-screener/refresh"
